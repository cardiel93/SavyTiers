(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[706],{4147:(e,t,l)=>{Promise.resolve().then(l.bind(l,46)),Promise.resolve().then(l.bind(l,7863))},46:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>g});var r=l(5155),s=l(5870),a=l(2115);let n=()=>{let[e,t]=(0,a.useState)([]),[l,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)(10),[o,c]=(0,a.useState)(0);return(0,a.useEffect)(()=>{(async()=>{try{r(!0);let e=await (0,s.I7)("overall",o,n);if(e.players){let l=Object.entries(e.players).map(e=>{let[t,l]=e;return{..."object"==typeof l&&null!==l?l:{points:0},uuid:t}}).sort((e,t)=>t.points-e.points);t(e=>{let t=new Set(e.map(e=>e.uuid));return[...e,...l.filter(e=>!t.has(e.uuid))]})}}catch(e){console.error("Error fetching players:",e)}finally{r(!1)}})()},[n,o]),{loading:l,playersArray:e,loadMore:()=>{c(o>=90?90:o+5),i(n>=100?100:n+5)}}};var i=l(2343),o=l(1709),c=l(7596),d=l(1088),u=l(5565);let p=e=>{let[t,l]=(0,a.useState)(null),[r,n]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{n(!0),(0,s.vx)(e).then(e=>{"string"==typeof e?l(null):l(e)}).catch(e=>{console.error(e),n(!1)}).finally(()=>{n(!1)})},[e]),{rankings:t,loadingRankings:r}},h=(0,a.lazy)(()=>Promise.resolve().then(l.bind(l,2957))),x=e=>{let{player:t,handleFetchPlayer:l,index:n}=e,{rankings:i,loadingRankings:o}=p(t.uuid),c=[],x=[];i&&(c=(0,s.zr)(i),x=(0,s.Qj)(i));let m=[...x,...c],f=(0,s.Ny)(t.points,m),g=(0,s.rE)(f);return(0,r.jsx)(d.P.div,{className:"w-full h-20 max-lg:h-fit flex flex-col bg-slate-800/20 hover:bg-[#263242] rounded-xl px-2 pl-0 my-2 border-2 border-[var(--layout-item-outline)]",role:"button","aria-haspopup":"dialog",onClick:l,initial:{scale:1},whileHover:{scale:1.02},whileTap:{scale:.99},children:(0,r.jsxs)("div",{className:"w-full flex gap-2 items-center h-[inherit] max-lg:flex-col",children:[(0,r.jsxs)("div",{className:"w-full h-[inherit] flex gap-2 items-center",children:[(0,r.jsxs)("div",{className:"max-w-40 w-full h-14 flex items-center p-2 relative overflow-clip",children:[(0,r.jsx)(u.default,{src:"/placements/".concat(n+1>=4?"other.png":n+1+"-shimmer.webp"),fill:!0,alt:""}),(0,r.jsxs)("h1",{className:"text-4xl font-bold self-end italic absolute",children:[n+1,"."]}),(0,r.jsx)("img",{src:"https://render.crafty.gg/3d/bust/".concat(t.uuid),className:"absolute right-7 drop-shadow-[-4px_-2px_1px_#00000077]",width:60,height:60,alt:""})]}),(0,r.jsxs)("div",{className:"w-72 truncate",children:[(0,r.jsx)("h2",{className:"text-2xl text-slate-300 font-bold truncate",children:t.name}),(0,r.jsx)("h3",{className:"flex gap-1 text-disabled",children:o?(0,r.jsx)("span",{className:"w-full h-4 rounded-md bg-slate-500/10 block"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.default,{src:"/titles/".concat(null==f?void 0:f.title.split(" ").join("_").toLowerCase(),".").concat(g),className:"object-contain",width:24,height:24,alt:""}),(0,r.jsxs)("span",{className:"truncate",children:["".concat(null==f?void 0:f.title)," ",(0,r.jsxs)("span",{className:"text-slate-400/50",children:["(",t.points," points)"]})]})]})})]}),(0,r.jsx)("span",{className:"size-10 p-2 text-xl rounded-md flex items-center justify-center font-extrabold max-lg:ml-auto max-lg:mr-0 lg:ml-auto lg:hidden",style:{background:"var(--".concat(t.region.toLowerCase(),")"),color:"var(--".concat(t.region.toLowerCase(),"-foreground)")},children:t.region})]}),(0,r.jsxs)("div",{className:"ml-auto flex gap-6 items-center w-fit max-lg:flex max-lg:flex-wrap max-lg:justify-between max-lg:w-full max-lg:px-1 max-lg:py-2",children:[(0,r.jsx)("span",{className:"size-10 p-2 text-xl rounded-md flex items-center justify-center font-extrabold max-lg:ml-auto max-lg:mr-0 lg:ml-auto max-lg:hidden",style:{background:"var(--".concat(t.region.toLowerCase(),")"),color:"var(--".concat(t.region.toLowerCase(),"-foreground)")},children:t.region}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("h2",{className:"overall_player__label",children:"Tiers"}),(0,r.jsx)("div",{className:"overall_player__slots-wrapper",children:(0,r.jsx)(a.Suspense,{children:(0,r.jsx)(h,{loading:o,modes:x,dynamicColors:!0})})})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("h2",{className:"overall_player__label",children:"Retired"}),(0,r.jsx)("div",{className:"overall_player__slots-wrapper",children:(0,r.jsx)(a.Suspense,{children:(0,r.jsx)(h,{loading:o,modes:c,dynamicColors:!0})})})]})]})]})})};var m=l(6783);let f=(0,a.memo)(o.A),g=()=>{let{playersArray:e,loading:t,loadMore:l}=n(),{profile:s,handleFetchPlayer:a,hide:o,visible:d}=(0,i.x)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"w-full flex gap-2 max-lg:hidden text-muted font-bold uppercase px-4",children:[(0,r.jsx)("span",{className:"",children:"#"}),(0,r.jsx)("span",{className:"w-[196px] text-right inline-block",children:"Player"}),(0,r.jsx)("span",{className:"inline-block text-right ml-auto",children:"Region"}),(0,r.jsxs)("div",{className:"w-[515px] grid grid-cols-2 ",children:[(0,r.jsx)("span",{className:"text-center",children:"Tiers"}),(0,r.jsx)("span",{className:"text-center",children:"Retired"})]})]}),(0,r.jsxs)("div",{className:"w-full flex gap-2 lg:hidden text-muted font-bold uppercase px-4",children:[(0,r.jsx)("span",{className:"",children:"#"}),(0,r.jsx)("span",{className:"w-[196px] text-right inline-block",children:"Player"}),(0,r.jsx)("span",{className:"ml-auto w-[84px] inline-block text-right",children:"Region"})]}),(()=>{let t=-1,l=0;return e.map((e,s)=>(e.points!=t&&(l=s+1,t=e.points),(0,r.jsx)(x,{player:e,handleFetchPlayer:()=>a(e.uuid),index:l-1},s)))})(),t&&(0,r.jsx)("div",{className:"w-full flex items-center justify-center py-4",children:(0,r.jsx)(c.A,{color:"white"})}),0!==e.length&&100!==e.length&&(0,r.jsx)(m.A,{fn:l,dependency:e}),(0,r.jsx)(f,{profile:s,hide:()=>o(null),visible:d})]})}},7863:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>_});var r=l(5155),s=l(5870),a=l(6046),n=l(2115);let i=()=>{let[e,t]=(0,n.useState)(null),[l,r]=(0,n.useState)(!1),i=(0,a.usePathname)();(0,n.useEffect)(()=>{try{(0,s.MU)().then(e=>{t(e)})}catch(e){console.error(e)}},[]),(0,n.useEffect)(()=>{l?document.documentElement.style.overflow="hidden":document.documentElement.style.overflow="auto"},[l]);let o=(0,s.op)(i),c=e?e[o].kit_image:null;return{data:e,handleShowHideSheet:()=>r(!l),showSheet:l,imgSrc:c}};var o=l(5565),c=l(6084),d=l(4917),u=l(1088),p=l(4113),h=l(7596),x=l(9709),m=l(2250),f=function(){return(f=Object.assign||function(e){for(var t,l=1,r=arguments.length;l<r;l++)for(var s in t=arguments[l])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},g=function(e,t){var l={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(l[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)0>t.indexOf(r[s])&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(l[r[s]]=e[r[s]]);return l},v=(0,m.J)("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");let j=function(e){var t=e.loading,l=e.color,r=void 0===l?"#000000":l,s=e.speedMultiplier,a=e.cssOverride,i=e.size,o=void 0===i?35:i,c=g(e,["loading","color","speedMultiplier","cssOverride","size"]),d=f({background:"transparent !important",width:(0,x.p)(o),height:(0,x.p)(o),borderRadius:"100%",border:"2px solid",borderTopColor:r,borderBottomColor:"transparent",borderLeftColor:r,borderRightColor:r,display:"inline-block",animation:"".concat(v," ").concat(.75/(void 0===s?1:s),"s 0s infinite linear"),animationFillMode:"both"},void 0===a?{}:a);return void 0===t||t?n.createElement("span",f({style:d},c)):null},y=()=>{let[e,t]=(0,n.useState)([]),[l,r]=(0,n.useState)(!1),[i,o]=(0,n.useState)(0),[c,d]=(0,n.useState)(20),u=(0,a.usePathname)();return(0,n.useEffect)(()=>{(async()=>{try{r(!0);let l=await (0,s.I7)((0,s.op)(u),i,c);if(l&&l.players&&l.rankings){let r=[...e];Object.entries(l.rankings).forEach(e=>{let[t,s]=e,a=parseInt(t,10);if(a>=0&&a<=4){let e=s.map(e=>{let[t,r]=e,s=l.players[t]||{};return{uuid:t,pos:r,name:s.name||"Unknown",region:s.region||"Unknown",points:s.points||0}}),t=r.find(e=>e.column===a);t||(t={column:a,players:[]},r.push(t));let n=new Set(t.players.map(e=>e.uuid));t.players.push(...e.filter(e=>!n.has(e.uuid)))}}),r.sort((e,t)=>e.column-t.column),t(r)}}catch(e){console.error(e)}finally{r(!1)}})()},[i,c]),{players:e,loadingPlayers:l,loadMorePlayers:()=>{o(i+10),d(c+10)}}};var b=l(6783),w=l(1709),N=l(2343),S=l(6816);let k=e=>{let{column:t,handleFetchPlayer:l}=e,s=e=>0===e?"bg-[var(--hightier)]":"bg-[var(--lowtier)]",a=e=>0===e?"hover:bg-[var(--hightier-hover)]":"hover:bg-[var(--lowtier-hover)]",n=t.column+1;return(0,r.jsxs)("div",{className:"w-full","data-props":JSON.stringify({length:t.players.length}),children:[(0,r.jsxs)("div",{className:"w-full h-14 text-center flex items-center justify-center gap-2 font-bold text-2xl rounded-t-xl bg-[var(--fg)]",style:{backgroundColor:"var(--tier-".concat(n,")"),color:"var(--tier-".concat(n,"-foreground)")},role:"columnheader",children:[n<=3&&(0,r.jsx)(o.default,{src:"/icons/tier_".concat(n.toString(),".png"),className:"object-contain",width:32,height:32,alt:""}),"Tier ",n.toString()]}),t.players.map((e,t)=>(0,r.jsxs)("div",{className:"w-full h-8 group flex gap-2 items-center overflow-clip mt-0.5 player-hover-transition-effect ".concat(s(e.pos)," ").concat(a(e.pos)),role:"button","aria-label":"open profile","aria-haspopup":"dialog",onClick:()=>l(e.uuid),"data-player-props":JSON.stringify(e),children:[(0,r.jsx)("span",{className:"w-0.5 h-full flex items-center overflow-clip justify-center group-hover:w-8 duration-200",style:{borderLeft:"2px solid var(--".concat(e.region.toLowerCase(),"-foreground)"),background:"var(--".concat(e.region.toLowerCase(),")")},children:(0,r.jsx)("strong",{className:"duration-100 opacity-0 group-hover:opacity-100 text-lg",style:{color:"var(--".concat(e.region.toLowerCase(),"-foreground)")},children:e.region})}),(0,r.jsx)("span",{children:e.name})]},t))]})},_=()=>{let{data:e,handleShowHideSheet:t,showSheet:l,imgSrc:s}=i(),{players:a,loadingPlayers:x,loadMorePlayers:m}=y(),{visible:f,hide:g,profile:v,handleFetchPlayer:_}=(0,N.x)(),C=(0,n.useRef)(null),O=(0,n.useRef)(null),[P,E]=(0,n.useState)({left:0,right:0});return(0,n.useEffect)(()=>{if(C.current&&O.current){let e=O.current.offsetWidth;E({left:-(C.current.scrollWidth-e),right:0})}},[a]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(S.A,{onClick:t,classNames:{container:"!h-12 !ml-auto !p-2 block",content:"text-xl uppercase font-semibold "},variant:"outline",children:[(0,r.jsx)(c.wfp,{}),"Show Kit"]}),(0,r.jsxs)("div",{ref:O,className:"mt-4 overflow-hidden mb-6",children:[(0,r.jsx)(u.P.div,{ref:C,className:"min-w-[80rem] grid grid-cols-5 gap-2 pb-8 cursor-grab active:cursor-grabbing",drag:"x",dragConstraints:P,children:a.map((e,t)=>(0,r.jsx)(k,{handleFetchPlayer:e=>_(e),column:e},t))}),x&&(0,r.jsx)("div",{className:"w-full h-fit py-4 flex items-center justify-center",children:(0,r.jsx)(h.A,{color:"white",loading:!0})}),0!==a.length&&(0,r.jsx)(b.A,{fn:m,dependency:a}),(0,r.jsx)(w.A,{profile:v,visible:f,hide:()=>g(null)})]}),(0,r.jsx)(d.A,{children:(0,r.jsx)(p.N,{children:l&&(0,r.jsx)(u.P.div,{onClick:t,className:"fixed inset-0 bg-black/80 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},children:(0,r.jsx)("div",{className:"max-w-3xl w-full h-[700px] relative flex items-center justify-center",children:e?(0,r.jsx)(o.default,{src:"".concat(s),fill:!0,className:"object-contain select-none",alt:""}):(0,r.jsx)(j,{color:"white",loading:!0,size:32})})})})})]})}},6783:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});var r=l(5155),s=l(2115);let a=e=>{let{fn:t,dependency:l}=e,a=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(!a.current)return;let e=new IntersectionObserver(e=>{e[0].isIntersecting&&t()},{threshold:.2});return e.observe(a.current),()=>e.disconnect()},[l]),(0,r.jsx)("div",{"aria-label":"infinite loader","aria-hidden":!0,style:{height:"50px"},ref:a})}},2343:(e,t,l)=>{"use strict";l.d(t,{x:()=>a});var r=l(5870),s=l(2115);let a=()=>{let[e,t]=(0,s.useState)(null),[l,a]=(0,s.useState)(!1),[n,i]=(0,s.useState)(!1);return{profile:e,handleFetchPlayer:e=>{a(!0);try{i(!0),(0,r.Yx)(e).then(e=>{t(e)})}catch(e){console.error(e)}finally{i(!1)}},hide:e=>{t(e),a(!1)},visible:l,loadingProfile:n}}}},e=>{var t=t=>e(e.s=t);e.O(0,[873,897,849,709,441,517,358],()=>t(4147)),_N_E=e.O()}]);